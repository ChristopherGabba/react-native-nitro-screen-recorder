{"version":3,"names":["useState","useEffect","useRef","addBroadcastPickerListener","addScreenRecordingListener","retrieveLastGlobalRecording","getExtensionStatus","delay","ms","Promise","resolve","setTimeout","IDLE_STATUS","state","isBroadcasting","isExtensionRunning","isMicrophoneEnabled","isCapturingChunk","lastHeartbeat","chunkStartedAt","useGlobalRecording","props","isRecording","setIsRecording","extensionStatus","setExtensionStatus","shouldPollRef","unsubscribe","ignoreRecordingsInitiatedElsewhere","listener","event","type","reason","onRecordingStarted","settledTimeMs","file","onRecordingFinished","onBroadcastModalDismissed","onBroadcastModalShown","shouldPoll","current","pollingInterval","pollingIntervalMs","pollStatus","status","interval","setInterval","clearInterval"],"sourceRoot":"../../../src","sources":["hooks/useGlobalRecording.ts"],"mappings":"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","ignoreList":[]}
